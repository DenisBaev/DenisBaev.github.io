<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html>
<head>
<meta charset="UTF-8">
<meta name="authoring-tool" content="Adobe_Animate_CC">
<title>Streetsdrop74</title>
<!-- write your code here -->
<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
<script>
(function (cjs, an) {
var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"Streetsdrop74_atlas_", frames: [[0,0,1100,620],[0,888,524,100],[312,622,310,264],[1750,829,240,47],[1750,780,251,47],[1716,878,201,47],[526,893,331,47],[1716,927,192,47],[624,622,332,47],[859,893,232,47],[1190,838,524,100],[624,783,564,108],[624,671,566,110],[1504,0,334,284],[1504,286,334,284],[1102,385,334,284],[0,622,310,264],[1438,572,310,264],[1840,0,150,128],[1840,390,150,128],[1750,650,150,128],[1840,130,150,128],[1840,520,150,128],[1192,671,150,128],[1840,260,150,128],[1102,0,400,383]]}
];
// symbols:
(lib.bg74 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_1 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_10 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_11 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_12 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_13 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_14 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_15 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_16 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_17 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_2 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_3 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_4 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_5 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_6 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_7 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_8 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();
(lib.CachedTexturedBitmap_9 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();
(lib.dist01 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();
(lib.dist02 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();
(lib.dist03 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();
(lib.dist04 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();
(lib.dist05 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();
(lib.dist06 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();
(lib.dist07 = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();
(lib.garbage_container = function() {
	this.initialize(ss["Streetsdrop74_atlas_"]);
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();
// helper functions:
function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}
function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}
(lib.Streets = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		this.on("mouseover", function () {
		        document.body.style.cursor = "grab";
		      });
		this.on("mouseout", function () {
		        document.body.style.cursor = "default";
		      });
		var targarrt = [this.parent.targ1, this.parent.targ2, this.parent.targ3, this.parent.targ4];
		//массивы с улицами
		var diststrarr1 = ["","Болейко","Каслинская","Механическая","Партизанская","Ижевская","Герцена","Турбинная","Ферросплавная","Шадринская","Стартовая","Кислицина","Развития","Отрадная","Кожзаводская"];
		var diststrarr2 = ["","Жилая","Радонежская","Куйбышева","Пионерская","Производственная","Шагольская","Бурденюка","Цинковая","Осипенко","Приморская","Красного Урала","Шлюзовая","Красивая","Делегатская"];
		var diststrarr3 = ["","Енисейская","Гагарина","Энергетиков","Нахимова","Вагнера","Чапаева","Бобруйская","Ереванская","Кутузова","Игуменка","Горелова","Пирогова","1-я Сочинская","Лескова"];
		var diststrarr4 = ["","Монтажников","Дружбы","Жукова","Мира","Дегтярёва","Павелецкая","Полтавская","Трудовая","Румянцева","Сталеваров","Доменная","Искусств","Прокатная","Дачная"];
		var diststrarr5 = ["","Пальмовая","Сулимова","Гоголя","Учебная","Знаменская","Монакова","Доватора","Мебельная","Центральная","Малиновая","Загородная","Торговая","Телеграфная","Чехова"];
		var diststrarr6 = ["","Салютная","Детская","Кулибина","Марченко","Танкистов","Мамина","Бажова","Вязовая","Линейная","Комарова","Котина","Крылова","Семейная","Шишкина"];
		var diststrarr7 = ["","Фруктовая","Гостевая","Липовая","Энтузиастов","Лесопарковая","Весёлая","Витебская","Васенко","Соловьиная","Медовая","Смирных","Пчелиная","Песочная","Бирюзовая"];
		var diststrarr8 = ["","Драконовая","Волшебная","Юпитерская","Кофейная","Китобойная","Гитарная","Алкогольная","Метеоритная","Философская","Хрюкающая","Щупальцев","Яичная","Подсигарная","Чистомена"];
		var ds = ["null", diststrarr1, diststrarr2, diststrarr3, diststrarr4, diststrarr5, diststrarr6, diststrarr7, diststrarr8];
		//имя улицы на табличке
		var st=new createjs.Text("", "21px Arial", "white");
		st.x=st.y=3;
		this.addChild(st);
		if (this.name.charAt(8)<7) {
			 if (this.name.charAt(8)%2!=0) {
			st.text="ул." + ds[keyarr[this.name.charAt(4)-1]][stkeyarr[4]];
			 } else {
			st.text="ул." + ds[keyarr[this.name.charAt(4)-1]][stkeyarr[3]]; 
			 }
		} else {
			if (this.name.charAt(8)=="7") {
				st.text="ул." + ds[8][stkeyarr[2]];
			} else {
				st.text="ул." + ds[8][stkeyarr[1]];
			 }
		}
		gtw = st.getBounds().width;
		var shape=new createjs.Shape();
		var shape2=new createjs.Shape();
		this.addChildAt(shape2,0);
		shape2.graphics.clear().beginFill("#0000CC").drawRect(-5,-3,gtw+14,33);
		this.addChildAt(shape,1);
		shape.graphics.beginStroke("white").beginFill("#0000CC").drawRect(0,1,gtw+5,25);
		stage.update();
		//координаты таблички
		this.x=coordx[this.name.charAt(8)-1];
		this.y=coordy[this.name.charAt(8)-1];
		var origx = this.x;
		var origy = this.y;
		//drag'n'move
		this.on("pressmove", function (evt) {
			this.parent.setChildIndex(this, this.parent.numChildren - 1);
			var p = this.parent.globalToLocal(evt.stageX, evt.stageY);
			this.x = p.x;
			this.y = p.y;
			document.body.style.cursor = "grabbing";
			stage.update();
			for (t=0;t<4;t++) {
			intersect(this, targarrt[t]) ? 
			targarrt[t].droparea.alpha=0.5 : targarrt[t].droparea.alpha=0;
			}
		});	
		let da=false;//droparea visible
		//Mouse UP and SNAP
		this.on("pressup", function (evt) {
			if (intersect(evt.currentTarget, targarrt[this.name.charAt(4)-1]) && (targarrt[this.name.charAt(4)-1].name.charAt(4)==this.name.charAt(4))) {
				var dB = targarrt[this.name.charAt(4)-1].getTransformedBounds();
				//gsap.to(this, {x: dB.x+50, y: dB.y+70, alpha: 0, duration: .5});
				this.visible=false;
				targarrt[this.name.charAt(4)-1].dframe.gotoAndPlay("greenf");
				targarrt[this.name.charAt(4)-1].droparea.gotoAndPlay("right");
				rs++;
				if (rs==8) {
					setTimeout(runComplete, 500);
				}
				gsap.to(this, {alpha: 0, duration: 1});
				stage.update(evt);
					} else {
						targarrt.forEach(function(i) {
						if (i.droparea.alpha==0.5) {
							da=true;
							i.dframe.gotoAndPlay("redf");
							i.droparea.gotoAndPlay("wrong");
						}
					});
					if (da) {
					gsap.to(this, {x: origx, y: origy, duration: 1});
					errcount++;
					da=false;
				}
					}	
					document.body.style.cursor = "default";
			});
		//пересечение объектов
		function intersect(obj1, obj2) {
			var objBounds1 = obj1.getTransformedBounds();
			var objBounds2 = obj2.getTransformedBounds();
			if (objBounds1.intersects(objBounds2)) {
				return true;
			}else{
				return false;
			}
		}
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));
}).prototype = getMCSymbolPrototype(lib.Streets, new cjs.Rectangle(0,0,0,0), null);
(lib.Mpic = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{greenf:1,redf:13});
	// timeline functions:
	this.frame_0 = function() {
		this.stop();
	}
	this.frame_12 = function() {
		this.gotoAndStop(0);
	}
	this.frame_42 = function() {
		this.gotoAndStop(0);
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(12).call(this.frame_12).wait(30).call(this.frame_42).wait(1));
	// mpic
	this.instance = new lib.CachedTexturedBitmap_8();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);
	this.instance_1 = new lib.CachedTexturedBitmap_9();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.5,0.5);
	this.instance_2 = new lib.CachedTexturedBitmap_10();
	this.instance_2.parent = this;
	this.instance_2.setTransform(0,0,0.5,0.5);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},12).wait(30));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,155,132);
(lib.DropArea = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{right:1,wrong:30});
	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		this.alpha=0;
	}
	this.frame_1 = function() {
		gsap.to(this, {alpha: 0, duration: 1});
	}
	this.frame_29 = function() {
		this.gotoAndStop(0);
	}
	this.frame_30 = function() {
		gsap.to(this, {alpha: 0, duration: 1});
	}
	this.frame_59 = function() {
		this.gotoAndStop(0);
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1).call(this.frame_1).wait(28).call(this.frame_29).wait(1).call(this.frame_30).wait(29).call(this.frame_59).wait(1));
	// rect
	this.instance = new lib.CachedTexturedBitmap_5();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);
	this.instance_1 = new lib.CachedTexturedBitmap_6();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.5,0.5);
	this.instance_2 = new lib.CachedTexturedBitmap_7();
	this.instance_2.parent = this;
	this.instance_2.setTransform(0,0,0.5,0.5);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},29).wait(30));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,167,142);
(lib.ContinueBtn = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Слой_2
	this.instance = new lib.CachedTexturedBitmap_1();
	this.instance.parent = this;
	this.instance.setTransform(9,1.05,0.5,0.5);
	this.instance_1 = new lib.CachedTexturedBitmap_2();
	this.instance_1.parent = this;
	this.instance_1.setTransform(9,1.05,0.5,0.5);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).wait(1));
	// Слой_1
	this.instance_2 = new lib.CachedTexturedBitmap_3();
	this.instance_2.parent = this;
	this.instance_2.setTransform(-3,0.05,0.5,0.5);
	this.instance_3 = new lib.CachedTexturedBitmap_4();
	this.instance_3.parent = this;
	this.instance_3.setTransform(-3.5,-0.45,0.5,0.5);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_2}]}).to({state:[{t:this.instance_3}]},1).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-3.5,-0.4,283,55);
(lib.Backpic = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// timeline functions:
	this.frame_0 = function() {
		this.alpha=0.3;
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));
	// Слой_1
	this.instance = new lib.bg74();
	this.instance.parent = this;
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = getMCSymbolPrototype(lib.Backpic, new cjs.Rectangle(0,0,1100,620), null);
(lib.TargetDist = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		this.droparea.gotoAndStop(0);
		this.dframe.gotoAndStop(0);
		if (this.name.charAt(4)!=4) {
		this.gotoAndStop(keyarr[this.name.charAt(4)-1]);
		}else{
			this.gotoAndStop(8);
		}
		gsap.from(this, 1, {alpha:0});
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(9));
	// txt2
	this.instance = new lib.CachedTexturedBitmap_11();
	this.instance.parent = this;
	this.instance.setTransform(25.65,-23.45,0.5,0.5);
	this.instance_1 = new lib.CachedTexturedBitmap_12();
	this.instance_1.parent = this;
	this.instance_1.setTransform(25.65,-23.45,0.5,0.5);
	this.instance_2 = new lib.CachedTexturedBitmap_13();
	this.instance_2.parent = this;
	this.instance_2.setTransform(34.8,-23.45,0.5,0.5);
	this.instance_3 = new lib.CachedTexturedBitmap_14();
	this.instance_3.parent = this;
	this.instance_3.setTransform(5.7,-23.45,0.5,0.5);
	this.instance_4 = new lib.CachedTexturedBitmap_15();
	this.instance_4.parent = this;
	this.instance_4.setTransform(37.2,-23.45,0.5,0.5);
	this.instance_5 = new lib.CachedTexturedBitmap_16();
	this.instance_5.parent = this;
	this.instance_5.setTransform(1,-23.45,0.5,0.5);
	this.instance_6 = new lib.CachedTexturedBitmap_17();
	this.instance_6.parent = this;
	this.instance_6.setTransform(25.65,-23.45,0.5,0.5);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[]},1).wait(1));
	// dframe
	this.dframe = new lib.Mpic();
	this.dframe.name = "dframe";
	this.dframe.parent = this;
	this.dframe.setTransform(83.05,71.1,1,1,0,0,0,77.4,66);
	this.timeline.addTween(cjs.Tween.get(this.dframe).to({_off:true},8).wait(1));
	// pic
	this.instance_7 = new lib.dist01();
	this.instance_7.parent = this;
	this.instance_7.setTransform(8,6);
	this.instance_8 = new lib.dist02();
	this.instance_8.parent = this;
	this.instance_8.setTransform(9,8);
	this.instance_9 = new lib.dist03();
	this.instance_9.parent = this;
	this.instance_9.setTransform(12,11,0.9473,0.9473);
	this.instance_10 = new lib.dist04();
	this.instance_10.parent = this;
	this.instance_10.setTransform(12,11,0.9442,0.9367);
	this.instance_11 = new lib.dist05();
	this.instance_11.parent = this;
	this.instance_11.setTransform(11,9,0.9667,0.9667);
	this.instance_12 = new lib.dist06();
	this.instance_12.parent = this;
	this.instance_12.setTransform(12,11,0.9561,0.9367);
	this.instance_13 = new lib.dist07();
	this.instance_13.parent = this;
	this.instance_13.setTransform(10,8,0.98,0.98);
	this.instance_14 = new lib.garbage_container();
	this.instance_14.parent = this;
	this.instance_14.setTransform(0,5,0.3206,0.3206);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance_7}]},1).to({state:[{t:this.instance_8}]},1).to({state:[{t:this.instance_9}]},1).to({state:[{t:this.instance_10}]},1).to({state:[{t:this.instance_11}]},1).to({state:[{t:this.instance_12}]},1).to({state:[{t:this.instance_13}]},1).to({state:[{t:this.instance_14}]},1).wait(1));
	// droparea
	this.droparea = new lib.DropArea();
	this.droparea.name = "droparea";
	this.droparea.parent = this;
	this.droparea.setTransform(117.5,102,1,1,0,0,0,117.5,102);
	this.timeline.addTween(cjs.Tween.get(this.droparea).wait(8).to({regX:85.5,regY:71,scaleX:0.8037,scaleY:0.8992,x:69.5,y:63.85},0).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-23.4,171.2,165.4);
// stage content:
(lib.Streetsdrop74 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		root = this;
		while (keyarr.length<7) {
			key = getRandomInt(1, 7);
			if (keyarr.indexOf(key)==-1) {
			keyarr.push(key);
			}
			}
		while (stkeyarr.length<14) {
			skey = getRandomInt(1, 14);
			if (stkeyarr.indexOf(skey)==-1) {
			stkeyarr.push(skey);
			}
			}
		while (d<8) {
			cx = getRandomInt(300, 920);
			cy = getRandomInt(300, 500);
			coordx.push(cx);
			coordy.push(cy);
			d++;
		}
		root.tmr.text="";
		//перезагрузить
		root.rbtn.on('click', function (e){
		window.location.reload();
		});
		root.rbtn.visible=false;
		root.errct.visible=false;
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));
	// TXTFIELDS
	this.errct = new cjs.Text("Кол-во ошибок:", "29px 'Arial'", "#990000");
	this.errct.name = "errct";
	this.errct.textAlign = "center";
	this.errct.lineHeight = 34;
	this.errct.lineWidth = 313;
	this.errct.parent = this;
	this.errct.setTransform(542.55,325.5);
	this.rbtn = new lib.ContinueBtn();
	this.rbtn.name = "rbtn";
	this.rbtn.parent = this;
	this.rbtn.setTransform(545,466,1,1,0,0,0,138,27.1);
	new cjs.ButtonHelper(this.rbtn, 0, 1, 1);
	this.tmr = new cjs.Text("Выполнено за 00 секунд", "48px 'Arial'", "#336600");
	this.tmr.name = "tmr";
	this.tmr.textAlign = "center";
	this.tmr.lineHeight = 56;
	this.tmr.lineWidth = 709;
	this.tmr.parent = this;
	this.tmr.setTransform(564.4,215.85);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.tmr},{t:this.rbtn},{t:this.errct}]}).wait(1));
	// STREETS
	this.strt4_2_8 = new lib.Streets();
	this.strt4_2_8.name = "strt4_2_8";
	this.strt4_2_8.parent = this;
	this.strt4_2_8.setTransform(1007.1,592.4,1,1,0,0,0,54,6);
	this.strt4_1_7 = new lib.Streets();
	this.strt4_1_7.name = "strt4_1_7";
	this.strt4_1_7.parent = this;
	this.strt4_1_7.setTransform(964.9,540.4,1,1,0,0,0,53,4);
	this.strt2_2_4 = new lib.Streets();
	this.strt2_2_4.name = "strt2_2_4";
	this.strt2_2_4.parent = this;
	this.strt2_2_4.setTransform(644.7,519.6,1,1,0,0,0,59,19.1);
	this.strt3_2_6 = new lib.Streets();
	this.strt3_2_6.name = "strt3_2_6";
	this.strt3_2_6.parent = this;
	this.strt3_2_6.setTransform(925.9,496.5,1,1,0,0,0,53,9.1);
	this.strt3_1_5 = new lib.Streets();
	this.strt3_1_5.name = "strt3_1_5";
	this.strt3_1_5.parent = this;
	this.strt3_1_5.setTransform(693.4,581.05,1,1,0,0,0,53,6.1);
	this.strt1_1_1 = new lib.Streets();
	this.strt1_1_1.name = "strt1_1_1";
	this.strt1_1_1.parent = this;
	this.strt1_1_1.setTransform(271.1,412.95,1,1,0,0,0,44,5);
	this.strt2_1_3 = new lib.Streets();
	this.strt2_1_3.name = "strt2_1_3";
	this.strt2_1_3.parent = this;
	this.strt2_1_3.setTransform(431.05,464.95,1,1,0,0,0,47,6);
	this.strt1_2_2 = new lib.Streets();
	this.strt1_2_2.name = "strt1_2_2";
	this.strt1_2_2.parent = this;
	this.strt1_2_2.setTransform(349.05,519.95,1,1,0,0,0,42,7);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.strt1_2_2},{t:this.strt2_1_3},{t:this.strt1_1_1},{t:this.strt3_1_5},{t:this.strt3_2_6},{t:this.strt2_2_4},{t:this.strt4_1_7},{t:this.strt4_2_8}]}).wait(1));
	// DISTRICTS
	this.targ4 = new lib.TargetDist();
	this.targ4.name = "targ4";
	this.targ4.parent = this;
	this.targ4.setTransform(92.95,539.05,1,1,0,0,0,83.5,71);
	this.targ3 = new lib.TargetDist();
	this.targ3.name = "targ3";
	this.targ3.parent = this;
	this.targ3.setTransform(956.1,105.35,1,1,0,0,0,74,77.1);
	this.targ2 = new lib.TargetDist();
	this.targ2.name = "targ2";
	this.targ2.parent = this;
	this.targ2.setTransform(535.1,105.35,1,1,0,0,0,74,77.1);
	this.targ1 = new lib.TargetDist();
	this.targ1.name = "targ1";
	this.targ1.parent = this;
	this.targ1.setTransform(120.15,105.35,1,1,0,0,0,74,77.1);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.targ1},{t:this.targ2},{t:this.targ3},{t:this.targ4}]}).wait(1));
	// BG
	this.instance = new lib.Backpic();
	this.instance.parent = this;
	this.instance.setTransform(550,310,1,1,0,0,0,550,310);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(550,310,550,310);
// library properties:
lib.properties = {
	id: 'EB92E0536FEBC44084F9E5B18A8FE24E',
	width: 1100,
	height: 620,
	fps: 30,
	color: "#EFF5ED",
	opacity: 1.00,
	manifest: [
		{src:"images/Streetsdrop74_atlas_.png?1684545365377", id:"Streetsdrop74_atlas_"}
	],
	preloads: []
};
// bootstrap callback support:
(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.Stage();
p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }
p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }
an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}
an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};
an.compositions = an.compositions || {};
an.compositions['EB92E0536FEBC44084F9E5B18A8FE24E'] = {
	getStage: function() { return exportRoot.getStage(); },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};
an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}
an.getComposition = function(id) {
	return an.compositions[id];
}
an.makeResponsive = function(isResp, respDim, isScale, scaleType, domContainers) {		
	var lastW, lastH, lastS=1;		
	window.addEventListener('resize', resizeCanvas);		
	resizeCanvas();		
	function resizeCanvas() {			
		var w = lib.properties.width, h = lib.properties.height;			
		var iw = window.innerWidth, ih=window.innerHeight;			
		var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
		if(isResp) {                
			if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
				sRatio = lastS;                
			}				
			else if(!isScale) {					
				if(iw<w || ih<h)						
					sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==1) {					
				sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==2) {					
				sRatio = Math.max(xRatio, yRatio);				
			}			
		}			
		domContainers[0].width = w * pRatio * sRatio;			
		domContainers[0].height = h * pRatio * sRatio;			
		domContainers.forEach(function(container) {				
			container.style.width = w * sRatio + 'px';				
			container.style.height = h * sRatio + 'px';			
		});			
		stage.scaleX = pRatio*sRatio;			
		stage.scaleY = pRatio*sRatio;			
		lastW = iw; lastH = ih; lastS = sRatio;            
		stage.tickOnUpdate = false;            
		stage.update();            
		stage.tickOnUpdate = true;		
	}
}
})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;
</script>
<script>
// Global Scripts
	//createjs.Touch.enable(stage);
//кол-во правильно дропнутых улиц:	
rs = 0;
//случайный вывод районов
keyarr = [];
//случайный выбор улицы
stkeyarr = [];
function getRandomInt(min, max) {
	return Math.floor(Math.random() * (max - min + 1)) + min;
}
//случ. координаты
coordx = [];
coordy = [];
d=0;
//таймер
second = -1;
clock = setInterval(function() {
	second++;
}, 1000);	
//функция "выполнено"
function runComplete (){
 exportRoot.tmr.text="Выполнено за " + second + " сек.";
 clearInterval(clock);
 root.rbtn.visible=true;
 root.errct.visible=true;
 root.errct.text="Кол-во ошибок: " + errcount;
}
//счетчик ошибок
errcount=0;</script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js'></script>
<script>
var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
function init() {
	canvas = document.getElementById("canvas");
	anim_container = document.getElementById("animation_container");
	dom_overlay_container = document.getElementById("dom_overlay_container");
	var comp=AdobeAn.getComposition("EB92E0536FEBC44084F9E5B18A8FE24E");
	var lib=comp.getLibrary();
	var loader = new createjs.LoadQueue(false);
	loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
	loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
	var lib=comp.getLibrary();
	loader.loadManifest(lib.properties.manifest);
}
function handleFileLoad(evt, comp) {
	var images=comp.getImages();	
	if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }	
}
function handleComplete(evt,comp) {
	//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
	var lib=comp.getLibrary();
	var ss=comp.getSpriteSheet();
	var queue = evt.target;
	var ssMetadata = lib.ssMetadata;
	for(i=0; i<ssMetadata.length; i++) {
		ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
	}
	var preloaderDiv = document.getElementById("_preload_div_");
	preloaderDiv.style.display = 'none';
	canvas.style.display = 'block';
	exportRoot = new lib.Streetsdrop74();
	stage = new lib.Stage(canvas);
	stage.enableMouseOver();	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		stage.addChild(exportRoot);
		createjs.Ticker.setFPS(lib.properties.fps);
		createjs.Ticker.addEventListener("tick", stage);
	}	    
	//Code to support hidpi screens and responsive scaling.
	AdobeAn.makeResponsive(true,'both',false,1,[canvas,preloaderDiv,anim_container,dom_overlay_container]);	
	AdobeAn.compositionLoaded(lib.properties.id);
	fnStartAnimation();
}
</script>
<!-- write your code here -->
</head>
<body onload="init();" style="margin:0px;">
	<div id="animation_container" style="background-color:rgba(239, 245, 237, 1.00); width:1100px; height:620px">
		<canvas id="canvas" width="1100" height="620" style="position: absolute; display: none; background-color:rgba(239, 245, 237, 1.00);"></canvas>
		<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:1100px; height:620px; position: absolute; left: 0px; top: 0px; display: none;">
		</div>
	</div>
    <div id='_preload_div_' style='position:absolute; top:0; left:0; display: inline-block; height:620px; width: 1100px; text-align: center;'>	<span style='display: inline-block; height: 100%; vertical-align: middle;'></span>	<img src=images/_preloader.gif?1684545365393 style='vertical-align: middle; max-height: 100%'/></div>
</body>
</html>